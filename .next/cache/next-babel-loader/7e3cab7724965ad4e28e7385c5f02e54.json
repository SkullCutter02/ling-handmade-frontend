{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Layout from \"../../components/Layout\";\nimport { CartContext } from \"../../context/CartContext\";\nimport spinner from \"../../utils/spinner\";\nimport host from \"../../utils/host\";\n\nconst CartPage = () => {\n  const {\n    0: totalCost,\n    1: setTotalCost\n  } = useState(0);\n  const cartContext = useContext(CartContext);\n  useEffect(() => {\n    if (cartContext !== undefined) {\n      if (cartContext.cartItems.length > 0) {\n        let accumulator = 0;\n        cartContext.cartItems.forEach(item => {\n          accumulator += item.price;\n        });\n        setTotalCost(accumulator);\n      }\n    }\n  }, [cartContext.cartItems]);\n\n  const removeFromCart = cartItem => {\n    if (cartContext) {\n      cartContext.removeItem(cartItem);\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-1657574190\" + \" \" + \"container\",\n        children: [cartContext ? cartContext.cartItems.map(cartItem => /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-1657574190\" + \" \" + \"cart-item-container\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1657574190\" + \" \" + \"left\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: `${host === \"http://localhost:1337\" ? \"http://localhost:1337\" : \"\"}${cartItem === null || cartItem === void 0 ? void 0 : cartItem.photo.formats.small.url}`,\n              alt: cartItem === null || cartItem === void 0 ? void 0 : cartItem.photo.alternativeText,\n              className: \"jsx-1657574190\" + \" \" + \"item-img\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-1657574190\" + \" \" + \"right\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-1657574190\",\n              children: [/*#__PURE__*/_jsx(Link, {\n                href: `/products/${cartItem.categories[0].slug}/${cartItem.slug}`,\n                children: /*#__PURE__*/_jsx(\"h1\", {\n                  className: \"jsx-1657574190\" + \" \" + \"product-name\",\n                  children: cartItem.name\n                })\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"jsx-1657574190\" + \" \" + \"product-description\",\n                children: cartItem.description\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-1657574190\" + \" \" + \"price-remove-cart-btn\",\n              children: [/*#__PURE__*/_jsxs(\"p\", {\n                className: \"jsx-1657574190\" + \" \" + \"product-price\",\n                children: [\"$\", cartItem.price]\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: () => removeFromCart(cartItem),\n                className: \"jsx-1657574190\" + \" \" + \"remove-cart-btn\",\n                children: \"Remove from Cart\"\n              })]\n            })]\n          })]\n        })) : /*#__PURE__*/_jsx(\"img\", {\n          src: spinner,\n          alt: \"spinner\",\n          className: \"jsx-1657574190\" + \" \" + \"spinner\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-1657574190\" + \" \" + \"cart-info\",\n          children: /*#__PURE__*/_jsxs(\"p\", {\n            className: \"jsx-1657574190\",\n            children: [\"Total: $\", totalCost]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"1657574190\",\n      children: [\".spinner.jsx-1657574190{display:block;margin:0 auto;width:200px;}\", \".container.jsx-1657574190{width:85%;margin:0 auto;}\", \".cart-item-container.jsx-1657574190{width:100%;margin:50px 0;border:2px solid #808080;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:20px;height:auto;}\", \".left.jsx-1657574190{width:35%;margin-right:20px;}\", \".item-img.jsx-1657574190{height:100%;width:100%;object-fit:cover;}\", \".right.jsx-1657574190{width:calc(100% - 35%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\", \".product-name.jsx-1657574190{cursor:pointer;}\", `.product-description.jsx-1657574190{display:block;word-wrap:break-word;overflow:hidden;line-height:1.4em;max-height:${1.4 * 6}em;margin:10px 0;}`, \".price-remove-cart-btn.jsx-1657574190{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:30%;}\", \".product-price.jsx-1657574190{font-size:1.2rem;}\", \".remove-cart-btn.jsx-1657574190{cursor:pointer;min-width:100px;height:25px;border:none;font-size:0.6rem;margin:10px 20px;background:#bf4141;color:white;border-radius:6px;}\", \".remove-cart-btn.jsx-1657574190:hover{background:#ab0f0f;}\", \".cart-info.jsx-1657574190{float:right;-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);font-size:1.3rem;}\", `@media screen and (max-width:600px){.left.jsx-1657574190,.right.jsx-1657574190{width:100%;}.right.jsx-1657574190{margin-top:20px;}.cart-item-container.jsx-1657574190{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.price-remove-cart-btn.jsx-1657574190{margin-top:10px;}.product-description.jsx-1657574190{max-height:${1.4 * 7}em;}}`]\n    })]\n  });\n};\n\nexport default CartPage;","map":null,"metadata":{},"sourceType":"module"}